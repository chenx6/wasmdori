{"version":3,"file":"profile.656a9bc7.js","sources":["../../src/profile.js"],"sourcesContent":["import { h, text, app } from \"hyperapp\"\nimport { translates } from \"./languages.js\"\nimport { navBar, getCurrLangNo, profileLoader } from \"./utils\"\n\nconst StoreProfile = (state, index) => {\n    let text = document.getElementById(`text-${index}`);\n    let fullData = JSON.parse(text.value);\n    state.profiles[index] = fullData;\n    localStorage.setItem(\"profiles\", JSON.stringify(state.profiles));\n    return { ...state };\n}\n\nconst NewProfile = state => {\n    let newProfile = {\n        \"name\": \"Profile \" + Date.now().toString(), \"server\": 1,\n        \"compression\": \"1\", \"data\": \"\", \"items\": {\n            \"Menu\": [4, 4, 4, 4],\n            \"Plaza\": [4, 4, 4, 4],\n            \"Roselia\": [4, 4, 4, 4, 4, 4, 4],\n            \"Everyone\": [4, 4, 4, 4, 4, 4, 4],\n            \"Magazine\": [4, 4, 4],\n            \"Afterglow\": [4, 4, 4, 4, 4, 4, 4],\n            \"PoppinParty\": [4, 4, 4, 4, 4, 4, 4],\n            \"PastelPalettes\": [4, 4, 4, 4, 4, 4, 4],\n            \"HelloHappyWorld\": [4, 4, 4, 4, 4, 4, 4]\n        }\n    }\n    state.profiles.push(newProfile);\n    return { ...state, profiles: state.profiles };\n}\n\nconst SetPrimary = (state, index) => {\n    localStorage.setItem(\"primaryProfile\", index.toString());\n    return { ...state, primaryProfile: index }\n}\n\nconst DeleteProfile = (state, index) => {\n    let newProfiles = state.profiles.filter((v, idx) => idx != index);\n    localStorage.setItem(\"profiles\", JSON.stringify(newProfiles));\n    return { ...state, profiles: newProfiles }\n}\n\n// Views\n\nconst profileList = state => h(\"div\", { class: \"row p-2\" }, [\n    ...state.profiles.map((v, idx) => profileCard(state, v, idx))\n])\n\nconst profileCard = (state, cardState, cardIdx) => h(\"div\", { class: \"card col-auto p-2\" }, [\n    h(\"div\", { class: \"card-body\" }, [\n        h(\"div\", { class: \"card-text p-1\" }, text(`${state.language.profileName}: ${cardState.name}`)),\n        h(\"div\", { class: \"card-text p-1\" }, text(`${state.language.profileServer}: ${cardState.server}`)),\n        h(\"textarea\", { id: `text-${cardIdx}`, class: \"card-text form-control p-2\" }, text(JSON.stringify(cardState))),\n        h(\"div\", { class: \"input-group p-1\" }, [\n            h(\"button\", { class: \"btn btn-outline-primary\", onclick: [StoreProfile, cardIdx] }, text(state.language.importProfileData)),\n            h(\"button\", { class: \"btn btn-outline-primary\", onclick: [SetPrimary, cardIdx] }, text(state.language.setPrimaryData)),\n            h(\"button\", { class: \"btn btn-outline-primary\", onclick: [DeleteProfile, cardIdx] }, text(state.language.deleteProfile))\n        ])\n    ])\n])\n\nconst addProfile = state => h(\"div\", { class: \"row p-1\" }, [\n    h(\"div\", { class: \"col-auto\" }, [\n        h(\"button\", { class: \"btn btn-primary\", onclick: [NewProfile] }, text(state.language.createNewProfile))\n    ])\n])\n\napp({\n    init: [{\n        language: translates[getCurrLangNo()],\n        profiles: [],\n        primaryProfile: 0,\n    },\n    profileLoader()\n    ],\n    view: state => h(\"div\", {}, [\n        navBar(state),\n        h(\"div\", { class: \"container\" }, [\n            profileList(state),\n            addProfile(state)\n        ])\n    ]),\n    node: document.getElementById(\"app\")\n})"],"names":["StoreProfile","state","index","text2","document","getElementById","fullData","JSON","parse","value","profiles","setItem","stringify","__spreadValues","NewProfile","newProfile","name","Date","now","toString","server","compression","data","items","Menu","Plaza","Roselia","Everyone","Magazine","Afterglow","PoppinParty","PastelPalettes","HelloHappyWorld","push","__spreadProps","SetPrimary","primaryProfile","DeleteProfile","newProfiles","filter","v","idx","profileList","h","class","map","profileCard","cardState","cardIdx","text","language","profileName","profileServer","id","onclick","importProfileData","setPrimaryData","deleteProfile","addProfile","createNewProfile","app","init","translates","getCurrLangNo","profileLoader","view","navBar","node"],"mappings":"4gBAIA,MAAMA,EAAe,CAACC,EAAOC,SACrBC,EAAOC,SAASC,eAAe,QAAQH,KACvCI,EAAWC,KAAKC,MAAML,EAAKM,gBACzBC,SAASR,GAASI,eACXK,QAAQ,WAAYJ,KAAKK,UAAUX,EAAMS,WAC/CG,KAAKZ,IAGVa,UACEC,EAAa,CACbC,KAAQ,WAAaC,KAAKC,MAAMC,WAAYC,OAAU,EACtDC,YAAe,IAAKC,KAAQ,GAAIC,MAAS,CACrCC,KAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,MAAS,CAAC,EAAG,EAAG,EAAG,GACnBC,QAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9BC,SAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/BC,SAAY,CAAC,EAAG,EAAG,GACnBC,UAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAChCC,YAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAClCC,eAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrCC,gBAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,cAGxCtB,SAASuB,KAAKlB,GACbmB,OAAKjC,GAAL,CAAYS,SAAUT,EAAMS,YAGjCyB,EAAa,CAAClC,EAAOC,kBACVS,QAAQ,iBAAkBT,EAAMiB,YACtCe,OAAKjC,GAAL,CAAYmC,eAAgBlC,KAGjCmC,EAAgB,CAACpC,EAAOC,SACtBoC,EAAcrC,EAAMS,SAAS6B,QAAO,CAACC,EAAGC,IAAQA,GAAOvC,wBAC9CS,QAAQ,WAAYJ,KAAKK,UAAU0B,IACzCJ,OAAKjC,GAAL,CAAYS,SAAU4B,KAK3BI,KAAuBC,EAAE,MAAO,CAAEC,MAAO,WAAa,IACrD3C,EAAMS,SAASmC,KAAI,CAACL,EAAGC,IAAQK,EAAY7C,EAAOuC,EAAGC,OAGtDK,EAAc,CAAC7C,EAAO8C,EAAWC,IAAYL,EAAE,MAAO,CAAEC,MAAO,qBAAuB,CACxFD,EAAE,MAAO,CAAEC,MAAO,aAAe,CAC7BD,EAAE,MAAO,CAAEC,MAAO,iBAAmBK,EAAK,GAAGhD,EAAMiD,SAASC,gBAAgBJ,EAAU/B,SACtF2B,EAAE,MAAO,CAAEC,MAAO,iBAAmBK,EAAK,GAAGhD,EAAMiD,SAASE,kBAAkBL,EAAU3B,WACxFuB,EAAE,WAAY,CAAEU,GAAI,QAAQL,IAAWJ,MAAO,8BAAgCK,EAAK1C,KAAKK,UAAUmC,KAClGJ,EAAE,MAAO,CAAEC,MAAO,mBAAqB,CACnCD,EAAE,SAAU,CAAEC,MAAO,0BAA2BU,QAAS,CAACtD,EAAcgD,IAAYC,EAAKhD,EAAMiD,SAASK,oBACxGZ,EAAE,SAAU,CAAEC,MAAO,0BAA2BU,QAAS,CAACnB,EAAYa,IAAYC,EAAKhD,EAAMiD,SAASM,iBACtGb,EAAE,SAAU,CAAEC,MAAO,0BAA2BU,QAAS,CAACjB,EAAeW,IAAYC,EAAKhD,EAAMiD,SAASO,sBAK/GC,KAAsBf,EAAE,MAAO,CAAEC,MAAO,WAAa,CACvDD,EAAE,MAAO,CAAEC,MAAO,YAAc,CAC5BD,EAAE,SAAU,CAAEC,MAAO,kBAAmBU,QAAS,CAACxC,IAAemC,EAAKhD,EAAMiD,SAASS,uBAI7FC,EAAI,CACAC,KAAM,CAAC,CACHX,SAAUY,EAAWC,KACrBrD,SAAU,GACV0B,eAAgB,GAEpB4B,KAEAC,QAAetB,EAAE,MAAO,GAAI,CACxBuB,EAAOjE,GACP0C,EAAE,MAAO,CAAEC,MAAO,aAAe,CAC7BF,EAAYzC,GACZyD,EAAWzD,OAGnBkE,KAAM/D,SAASC,eAAe"}